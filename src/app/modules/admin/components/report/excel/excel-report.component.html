<ngx-spinner></ngx-spinner>
<c-row>
    <c-col xs="12" class="mb-4">
        <c-card>
            <c-card-header ngPreserveWhitespaces>
                <strong>Patient Feedback Reports</strong>
            </c-card-header>
            <c-card-body>
                <p class="text-medium-emphasis small">
                    The Abiltiy to create patient reports using his/her Feedback inputs
                </p>
                <c-callout color="danger" *ngIf="searchInputNotValid">
                    {{errorMsg}}
                </c-callout>
                <!--
              <div style="float: left;margin-top: 4%;">
              <svg cIcon name="cilFindInPage" title="cilFindInPage" size="7xl"></svg>
            </div>
          -->
                <form cForm>

                    <div class="row row-cols-5 mb-3">
                        <div class="col">
                            <c-card>
                                <c-card-header>
                                    <h6>
                                        <strong>Clinic</strong>
                                    </h6>
                                </c-card-header>
                                <c-card-body>
                                    <form cForm>
                                        <c-multi-select multiple cSelect cFormControl name="service_name"
                                            [(ngModel)]="selectedClinicsIds">

                                            <c-multi-select-option *ngFor="let clinic of userClinics"
                                                [value]="clinic.id?.toString() || ''">
                                                {{clinic.name}}</c-multi-select-option>
                                        </c-multi-select>
                                    </form>
                                </c-card-body>
                            </c-card>
                        </div>
                        <div class="col">
                            <c-card>
                                <c-card-header>
                                    <h6>
                                        <strong>Service</strong>
                                    </h6>
                                </c-card-header>
                                <c-card-body>
                                    <form cForm>
                                        <c-multi-select multiple cSelect cFormControl name="service_name"
                                            [(ngModel)]="reportCriteria.serviceName">

                                            <c-multi-select-option *ngFor="let service of serviceNames"
                                                [value]="service.serviceValue">
                                                {{service.serviceName}}</c-multi-select-option>
                                        </c-multi-select>
                                    </form>
                                </c-card-body>
                            </c-card>
                        </div>
                        <div class="col">
                            <c-card>
                                <c-card-header>
                                    <h6>
                                        <strong>Feedback</strong>
                                    </h6>
                                </c-card-header>
                                <c-card-body>
                                    <form cForm>
                                        <c-multi-select multiple [(ngModel)]="reportCriteria.feedbackFilter"
                                            name="fback">
                                            <c-multi-select-option *ngFor="let feedback of feedbackValues"
                                                [value]="feedback.feedbackValue">{{feedback.feedbackName}}</c-multi-select-option>
                                        </c-multi-select>
                                    </form>
                                </c-card-body>
                            </c-card>
                        </div>
                        <div class="col">
                            <c-card>
                                <c-card-header>
                                    <h6><strong>Date Range</strong></h6>
                                </c-card-header>
                                <c-card-body>
                                    <c-date-range-picker [(startDate)]="reportCriteria.startDate_date"
                                        [(endDate)]="reportCriteria.endDate_date"
                                        [ranges]="customRanges"></c-date-range-picker>
                                </c-card-body>
                            </c-card>
                        </div>
                        <div class="col">
                            <c-card>
                                <c-card-header>
                                    <h6><strong>Time Zone</strong></h6>
                                </c-card-header>
                                <c-card-body>
                                    <select cSelect cFormControl name="searchtimezone" id="searchtimezone"
                                        [(ngModel)]="reportCriteria.timeZone">
                                        <option value="America/New_York">America-NY</option>
                                        <option value="Africa/Cairo">Egypt-Cairo</option>
                                    </select>
                                </c-card-body>
                            </c-card>
                        </div>
                    </div>
                    <c-row>
                        <c-col lg="12" xs="12" class="text-center">
                            <button cButton class="me-1" (click)="export()" color="primary" variant="outline"
                                style="width: 15%;" [disabled]="isValidInputs()">
                                Export
                            </button>
                        </c-col>
                    </c-row>
                </form>
            </c-card-body>
        </c-card>
    </c-col>
</c-row>
<c-row *ngIf="errorMsg !==''">
    <c-alert color="danger">{{errorMsg}}</c-alert>
</c-row>